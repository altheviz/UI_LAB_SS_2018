<ActionBar title="TODO"></ActionBar>

<GridLayout rows="*, auto" columns="*" horizontalAlignment="stretch" verticalAlignment="stretch">
    <ScrollView>
        <GridLayout row="0" col="0" rows="auto, auto, *, auto" columns="*" class="border">
            <GridLayout row="0" col="0" columns="auto,15,*" rows="35,35,35,55,75,75,35" marginBottom="10">
                <Label class="strong" text="Product" row="0" col="0"></Label>
                <Label text="TODO" row="0" col="2"></Label>
                <Label class="strong" text="Customer" row="1" col="0"></Label>
                <Label text="TODO" row="1" col="2"></Label>
                <Label class="strong" text="Technician" row="2" col="0"></Label>
                <Label text="TODO" row="2" col="2"></Label>
                <Label class="strong" text="Date" row="3" col="0"></Label>
                <DatePicker row="3" col="2" (loaded)="onDatePickerLoaded($event)" (dateChange)="onDateChanged($event)" verticalAlignment="center"></DatePicker>
                <Label class="strong" text="Start Time" row="4" col="0"></Label>
                <TimePicker row="4" col="2" (loaded)="onTimePickerLoaded($event)" (timeChange)="onStartTimeChanged($event)" verticalAlignment="center"
                    class="m-15"></TimePicker>
                <Label class="strong" text="End Time" row="5" col="0"></Label>
                <TimePicker row="5" col="2" (loaded)="onTimePickerLoaded($event)" (timeChange)="onEndTimeChanged($event)" verticalAlignment="center"
                    class="m-15"></TimePicker>
                <Label class="strong" text="Hours spent" row="6" col="0"></Label>
                <Label text="{{ hour }}" row="6" col="2"></Label>
            </GridLayout>
            <DockLayout row="1" col="0"  horizontalAlignment="stretch">
                <Label dock="left" text="Used parts" class="strong"></Label>
                <Button class="far fas" dock="right" (tap)="addPart()" text="&#xf067;" width="60" horizontalAlignment="right"></Button> 
            </DockLayout>
            <StackLayout row="2" col="0">
                <StackLayout orientation="horizontal" *ngFor="let part of manager.usedParts;let i = index">
                    <Label [text]="part.description" marginRight="20" (tap)="usedPartClicked(i)"></Label >
                    <Label [text]="part.usedAmount" marginRight="20" (tap)="changeUsedPartAmount(i)"></Label >
                    <Button class="far fas" (tap)="removePart(i)" text="&#xf014;"></Button>
                </StackLayout>    
            </StackLayout>
        </GridLayout>
    </ScrollView>
    <Button row="1" col="0" text="SIGN" verticalAlignment="bottom" horizontalAlginemnet="stretch" (tap)="signAppointment()"></Button>
</GridLayout>